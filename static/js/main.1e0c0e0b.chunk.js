(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(4),c=r.n(a),s=r(6),i=r(2),l=r.n(i),d=r(5),u=r.n(d),m=(r(13),r(0)),p=function(){var e=Object(n.useState)({paymentSubmitted:!1}),t=Object(s.a)(e,2),r=t[0],a=(t[1],r.paymentSubmitted);Object(n.useEffect)((function(){c()}),[a]);var c=function(){a||l()("https://fierce-beach-07017.herokuapp.com/rest/api/GetPayment",{method:"GET"}).then((function(e){if(e.status>=200&&e.status<300)return e.json();console.error("rest/api/GetPayments http error: ",e.code)})).catch((function(e){console.error(e)})).then((function(e){e.error?console.error(e.error):i(e.response)}))},i=function(e){var t={paymentMethodsResponse:e,clientKey:"test_QFGJGRQZERFWNFYWKEZSQL3E342QEDNU",locale:"en-US",openFirstStoredPaymentMethod:!0,environment:"test",amount:{value:1e3,currency:"USD"},onSubmit:function(e,t){var r;(r=e.data,l()("https://fierce-beach-07017.herokuapp.com/rest/api/InitiatePayment",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){if(e.status>=200&&e.status<300)return e.json();console.error("rest/api/InitiatePayment http error: ",e.code)})).catch((function(e){return console.error(e)}))).then((function(r){r.action?t.handleAction(r.action):(e.isValid,r.resultCode&&d(t,r))})).catch((function(e){throw Error(e)}))},onAdditionalDetails:function(e,t){var r;(r=e.data,l()("https://fierce-beach-07017.herokuapp.com/rest/api/submitAdditionalDetails",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){if(e.status>=200&&e.status<300)return e.json();console.error("rest/api/submitAdditionalDetails http error: ",e.code)})).catch((function(e){return console.error(e)}))).then((function(r){if(!r.action)return e.isValid,r.resultCode&&d(t,r),null;t.handleAction(r.action)})).catch((function(e){throw Error(e)}))},onError:function(e){console.error("Adyen Error: ",e)},paymentMethodsConfiguration:{card:{hasHolderName:!0,holderNameRequired:!0,enableStoreDetails:!0,hideCVC:!1,name:"Credit or debit card"}}},r=new u.a(t);try{r.create("dropin",{openFirstPaymentMethod:!0,setStatusAutomatically:!1}).mount("#dropin-container")}catch(n){console.error(n)}},d=function(e,t){"Authorised"===t.resultCode?e.setStatus("success",{message:"Payment successful! Order Ref#: "+t.pspReference}):"Error"!==t.resultCode&&"Refused"!==t.resultCode&&"Cancelled"!==t.resultCode||e.setStatus("error",{message:"Error: "+t.refusalReason})};return Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center mt-4 mb-0",children:a?"Order Confirmation":"Subscription Checkout"}),Object(m.jsx)("hr",{className:"mt-0 mb-5 ml-5 mr-5 pl-5 pr-5"}),function(){if(/success/.test(document.location.pathname)){var e=window.location.search;new URLSearchParams(e).get("orderRef");return document.getElementById("dropin-container").style.display="none",Object(m.jsx)("div",{className:"alert alert-success mr-5 ml-5 pr-5 pl-5",role:"alert",children:"Order Confirmed"})}return/pending/.test(document.location.pathname)?(document.getElementById("dropin-container").style.display="none",Object(m.jsx)("div",{className:"alert alert-warning mr-5 ml-5 pr-5 pl-5",role:"alert",children:"Your order has been placed."})):/failed/.test(document.location.pathname)||/error/.test(document.location.pathname)?Object(m.jsx)("div",{className:"alert alert-danger mr-5 ml-5 pr-5 pl-5",role:"alert",children:"Unable to place order"}):void 0}()]})};c.a.render(Object(m.jsx)(o.a.Fragment,{children:Object(m.jsx)(p,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1e0c0e0b.chunk.js.map